---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "p0_okta_directory_listing Resource - p0"
subcategory: ""
description: |-
  Final installation of P0 for Okta directory listing.
  To use this resource, you must also:
  install the p0_okta_directory_listing_staged resource,add the JWK from that resource to the Okta organization,
  See the example usage for the recommended pattern to define this infrastructure.
---

# p0_okta_directory_listing (Resource)

Final installation of P0 for Okta directory listing.

To use this resource, you must also:
- install the `p0_okta_directory_listing_staged` resource,
- add the JWK from that resource to the Okta organization,

See the example usage for the recommended pattern to define this infrastructure.

## Example Usage

```terraform
resource "p0_okta_directory_listing_staged" "example" {
  domain = "example.okta.com"
}

resource "okta_app_oauth" "p0_api_integration" {
  label                      = "P0 API Integration"
  type                       = "service"
  token_endpoint_auth_method = "private_key_jwt"
  pkce_required              = false
  grant_types                = ["client_credentials"]
  response_types             = ["token"]
  issuer_mode                = "DYNAMIC"

  jwks {
    kty = p0_okta_directory_listing_staged.example.jwk.kty
    kid = p0_okta_directory_listing_staged.example.jwk.kid
    e   = p0_okta_directory_listing_staged.example.jwk.e
    n   = p0_okta_directory_listing_staged.example.jwk.n
  }
}

resource "okta_app_oauth_api_scope" "p0_api_integration_scopes" {
  app_id = okta_app_oauth.p0_api_integration.id
  issuer = "http://example.okta.com"
  scopes = [
    okta.groups.manage,
    okta.users.read
  ]
}


resource "p0_okta_directory_listing" "example" {
  depends_on = [
    p0_okta_directory_listing_staged.example
  ]
  client = okta_app_oauth.p0_api_integration.client_id
  domain = p0_okta_directory_listing_staged.example.domain
  jwk    = p0_okta_directory_listing_staged.example.jwk
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `client` (String) The client ID for the Okta application, shown in the Okta admin console "Applications" page
or as the `client_id` attribute of the `okta_app_oauth` resource
- `domain` (String) The domain of the Okta organization
- `jwk` (Object) The JSON Web Key (JWK) for the Okta application (see [below for nested schema](#nestedatt--jwk))

<a id="nestedatt--jwk"></a>
### Nested Schema for `jwk`

Required:

- `e` (String)
- `kid` (String)
- `kty` (String)
- `n` (String)
